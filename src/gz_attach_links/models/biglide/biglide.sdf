<?xml version="1.0" ?>
<sdf version="1.9">

  <world name="default">

    <!-- Gravity & physics (optional but recommended) -->
    <physics type="ode">
      <max_step_size>0.001</max_step_size>
      <real_time_factor>1.0</real_time_factor>
    </physics>

    <gravity>0 0 -9.81</gravity>

    <!-- ================= MODEL ================= -->
    <model name="biglide">

      <pose>0 0 0 0 0 0</pose>
      <static>false</static>

      <!-- ========== LINKS ========== -->

      <link name="leftArm">
        <pose>0 0.3 0.5 0 0 0</pose>

        <inertial>
          <mass>1.0</mass>
          <inertia>
            <ixx>0.01</ixx>
            <iyy>0.01</iyy>
            <izz>0.01</izz>
          </inertia>
        </inertial>

        <collision name="collision">
          <geometry>
            <box>
              <size>0.1 0.3 0.1</size>
            </box>
          </geometry>
        </collision>

        <visual name="visual">
          <geometry>
            <box>
              <size>0.1 0.3 0.1</size>
            </box>
          </geometry>
        </visual>
      </link>

      <link name="rightArm">
        <pose>0 -0.3 0.5 0 0 0</pose>

        <inertial>
          <mass>1.0</mass>
          <inertia>
            <ixx>0.01</ixx>
            <iyy>0.01</iyy>
            <izz>0.01</izz>
          </inertia>
        </inertial>

        <collision name="collision">
          <geometry>
            <box>
              <size>0.1 0.3 0.1</size>
            </box>
          </geometry>
        </collision>

        <visual name="visual">
          <geometry>
            <box>
              <size>0.1 0.3 0.1</size>
            </box>
          </geometry>
        </visual>
      </link>

      <!-- ========== JOINTS (example actuated joints) ========== -->

      <joint name="A11" type="revolute">
        <parent>leftArm</parent>
        <child>rightArm</child>
        <axis>
          <xyz>0 0 1</xyz>
          <limit>
            <lower>-3.14</lower>
            <upper>3.14</upper>
          </limit>
        </axis>
      </joint>

      <!-- ========== SYSTEM PLUGINS ========== -->

      <!-- Attach / Detach links plugin -->
      <plugin filename="libattach-links.so"
              name="gz::sim::systems::AttachLinks">
        <parent>leftArm</parent>
        <child>rightArm</child>
      </plugin>

      <!-- Joint state publisher (UPDATED for gz-sim) -->
      <plugin filename="libgz-sim-joint-state-publisher-system.so"
              name="gz::sim::systems::JointStatePublisher"/>

      <!-- Apply force plugin (UPDATED for gz-sim) -->
      <plugin filename="libgz-sim-apply-joint-force-system.so"
              name="gz::sim::systems::ApplyJointForce">
        <joint_name>A11</joint_name>
      </plugin>

    </model>

  </world>
</sdf>
